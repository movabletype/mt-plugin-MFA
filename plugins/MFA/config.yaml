id: MFA
name: MFA
version: 0.10.3

description: <__trans phrase="This plugin provides multi factor authentication feature for the Movable Type.">
author_link: http://www.movabletype.org/
author_name: Six Apart Ltd.

config_settings:
  MFAShowFormOnlyToAuthenticatedUser:
    default: 1

l10n_lexicon:
  ja:
    This plugin provides multi factor authentication feature for the Movable Type.: "多要素認証の機能を有効にします"
    MFA: "多要素認証"
    MFA Settings: "多要素認証の設定"
    Reset MFA settings: "多要素認証のリセット"
    You have successfully Reset the MFA settings of selected user(s).: "選択したユーザーの多要素認証の設定をリセットしました。"

callbacks:
  init_app: $MFA::MT::Plugin::MFA::init_app
  MT::App::CMS::template_param.login: $MFA::MT::Plugin::MFA::template_param_login
  MT::App::CMS::template_param.author_list_header: $MFA::MT::Plugin::MFA::template_param_author_list_header
  MT::App::CMS::template_param.edit_author: $MFA::MT::Plugin::MFA::template_param_edit_author

applications:
  cms:
    methods:
      mfa_login_form:
        handler: $MFA::MT::Plugin::MFA::login_form
        requires_login: 0
      mfa_reset: $MFA::MT::Plugin::MFA::reset_settings
    list_actions:
      author:
        mfa_reset:
          label: "Reset MFA settings"
          mode:  mfa_reset
          order: 5000
          condition: "sub { MT->app->user->is_superuser }"
